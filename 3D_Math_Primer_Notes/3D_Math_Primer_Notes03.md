# 3D Math Primer for Graphics and Game Development Notes 03
书籍网址:[3D Math Primer for Graphics and Game Development](https://gamemath.com/book/)  
阅读时为第二版。  
## Chapter 3 多个坐标空间  
### 3.1 为什么需要多个坐标空间?  
面对不同的情况,采用不同的坐标空间会比始终用一个坐标空间更加有效率。
### 3.2 一些有用的坐标空间
1.  世界空间(World Space)  
一般是我们所关心的空间中最大的坐标系,因此也可称为绝对坐标系。  
也叫全局坐标空间(global/universal coordinate space)  
2.  对象空间(Object Space)  
也叫模型空间(model space)。
3.  相机空间(Camera Space)
相机空间中,相机位于原点,x轴正方向朝右,y轴正方向朝上(相对于相机)。左手系中,相机正对着z轴正方向,右手系中相机正对着z轴负方向。  
相机空间是三维空间,而屏幕空间是二维空间。  
4.  直立空间(Upright Space)  
直立坐标空间的坐标轴和世界坐标系相同,不过原点被设置为对象坐标系的原点。    
直立坐标空间很好地连接了世界坐标系和对象坐标系。
![World_Upright_Object](https://cdn.jsdelivr.net/gh/Kevincyc99/PicBed@master/Notes/World_Upright_Object.png)  
(图片来自原书Figure 3.3)  
直立坐标系这个说法是本书作者自己命名的,这个概念很常用,不过并没有统一的名字。  
### 3.3 基向量和坐标空间变换  
坐标表达的核心问题就是：已知一点在某坐标系A下的坐标,如何得到其在坐标系B下的坐标。  
坐标空间变换可以有两种理解:
1. 对象的坐标不变,改变坐标系,又称被动变换范式  
2. 改变对象的坐标,坐标系不变,又称主动变换范式  
   
两种变换中,对对象的变换与对坐标系的变换互为逆变换。

从世界坐标系转换到相机坐标系,通常在顶点着色器完成。  
通过指定坐标系的原点和坐标轴方向来确定一个坐标系。  
引入一个坐标空间等同于引入一组新的基向量。  
基向量在凹凸贴图映射(bump mapping)中有重要的应用。  

注:个人认为这部分讲的不太好。基向量以及向量空间本身就比较抽象,加上大段的纯文字,让人看得云里雾里的。  
我个人额外看的材料:
1.  3Blue1Brown的视频能够帮助理解一些。(第02集、第09集)  
[【【官方双语/合集】线性代数的本质 - 系列合集】 ](https://www.bilibili.com/video/BV1ys411472E/)  
2.  虎书的第二章2.4.5。

不过个人感觉这几个都没有讲的很清楚,还是需要自己多看,多理解几遍,尤其是基的变换(也就是坐标系的变换)。对于“点积是投影”这一理解对理解坐标系变换比较关键。
### 3.4 嵌套坐标空间  
在实际的应用中,嵌套的坐标系有助于化简复杂的运动:每一层坐标系的变化可以提前计算,这样一个在世界坐标系下很复杂的运动就可以拆成若干个简单运动的线性组合。  
### 3.5 为直立空间辩护  
作者引入直立空间的目的是在都使用一套数据结构同时表达点和向量的时候区分这两者(点可以平移,而向量无法平移)。  
### 3.6 练习  
第6题可以帮助理解基向量的变换。  
不过感觉用矩阵变换的角度思考更清晰。



